<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Learningmap Editor Test</title>
  <link rel="stylesheet" href="./dist/web-component-learningmap-editor.css">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, sans-serif;
    }

    hyperbook-learningmap-editor {
      display: block;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>

<body>
  <hyperbook-learningmap-editor id="editor" language="en"></hyperbook-learningmap-editor>

  <script src="./dist/index.umd.js"></script>
  <script>
    const editor = document.getElementById('editor');

    // Initialize with sample data
    const initialData = {
      nodes: [
        {
          id: "node1",
          type: "task",
          position: {x: 100, y: 100},
          className: "red",
          data: {
            label: "Getting Started",
            summary: "Introduction to the topic",
            description: "Learn the fundamentals",
            resources: [
              {label: "Documentation", url: "https://example.com/docs"}
            ]
          }
        },
        {
          id: "node2",
          type: "topic",
          className: "blue",
          position: {x: 100, y: 300},
          data: {
            label: "Advanced Topics",
            summary: "Deep dive into advanced concepts",
            completion: {
              needs: ["node1"]
            }
          }
        }
      ],
      edges: [],
      background: {
        color: "#f0f9ff"
      }
    };

    editor.setAttribute('roadmap-data', JSON.stringify(initialData));

    // Listen for save events
    editor.addEventListener('change', (event) => {
      console.log('Roadmap changed:', event.detail);
    });
  </script>
</body>

</html>
